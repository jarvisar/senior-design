<div class="card-container">
    <mat-card class="mat-card mat-card-pointer" appMaterialElevation (click)="searchFacility($event)">
        <div class="mat-body-2" style="margin-bottom: 10px">Observed by {{exoplanet.disc_facility}}</div>
        
        <img id="facility-image" *ngIf="exoplanet.disc_facility != 'Multiple Observatories' && exoplanet.disc_facility != 'Multiple Facilities'"
        src="https://exoplanets.nasa.gov/assets/eox/observatories/{{this.formattedDiscFacility}}" style="margin-bottom: 10px" (error)="imgError=true" [hidden]="imgError">
      </mat-card>
      <mat-card class="mat-card mat-card-pointer" appMaterialElevation (click)="searchMethod($event)">
        <div class="mat-body-2">Detection Method: {{exoplanet.discoverymethod}}</div>
        <br>
        <div class="mat-body-1">{{methodDict[exoplanet.discoverymethod]}}</div>
      </mat-card>
      <mat-card class="mat-card mat-card-pointer" appMaterialElevation (click)="searchHost($event)">
        <div class="mat-body-2">Host Star System: {{exoplanet.hostname}}</div>
        
        <p>This system consists of {{exoplanet.sy_snum}} {{exoplanet.st_spectype != null ? exoplanet.st_spectype + " type" : ''}} star{{exoplanet.sy_snum > 1 ? 's' : ''}}, {{exoplanet.sy_pnum}} planet{{exoplanet.sy_pnum > 1 ? 's' : ''}}, and {{exoplanet.sy_mnum}} moon{{exoplanet.sy_mnum > 1 || exoplanet.sy_mnum == 0 ? 's' : ''}}.</p>
        <!-- <p>Binary System? {{exoplanet.cb_flag == 1 ? 'Yes' : 'No'}}</p> -->
        <br>
        <IFRAME [src]="iframeSrc | safe">
        </IFRAME>
      </mat-card>
      <mat-card class="resources-card " appMaterialElevation>
        <div class="mat-body-2">Additional Resources</div>
        <br>
          <div matLine class="resources-container">
            <button mat-raised-button (click)="openOverview()" class="overview-button">Overview</button>
            <br>
            <br>
            <button mat-raised-button (click)="nasaEyes()" class="eyes-button">NASA Eyes</button>
            <br>
            <br>
            <button mat-raised-button (click)="openRef()" class="ref-button">Reference<div class="ref-link" #refContainer style="display: none;"></div></button>
            <span class="mat-icon-bottom" *ngIf="exoplanet.pl_controv_flag == 1" matTooltip="Confirmation status of this planet has been questioned in the published literature" matTooltipPosition="above">
              <mat-icon >error_outline</mat-icon>
              <p class="controversial-flag">Controversial</p>
            </span>
          </div>
      </mat-card>  
</div>